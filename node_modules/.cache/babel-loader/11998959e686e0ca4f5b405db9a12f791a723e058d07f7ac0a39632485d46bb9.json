{"ast":null,"code":"\"use strict\";\n\n// Copyright 2021-2022 IOTA Stiftung\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessageHandler = void 0;\nconst bindings_1 = require(\"./bindings\");\n/** The MessageHandler which sends the commands to the Rust side. */\nclass MessageHandler {\n  constructor(options) {\n    this.messageHandler = (0, bindings_1.messageHandlerNew)(JSON.stringify(options));\n  }\n  async sendMessage(message) {\n    return (0, bindings_1.sendMessageAsync)(JSON.stringify(message), this.messageHandler);\n  }\n  // MQTT\n  async listen(topics, callback) {\n    return (0, bindings_1.listen)(topics, callback, this.messageHandler);\n  }\n}\nexports.MessageHandler = MessageHandler;","map":{"version":3,"names":["bindings_1","require","MessageHandler","constructor","options","messageHandler","messageHandlerNew","JSON","stringify","sendMessage","message","sendMessageAsync","listen","topics","callback","exports"],"sources":["../../out/lib/MessageHandler.ts"],"sourcesContent":[null],"mappings":";;AAAA;AACA;;;;;AAEA,MAAAA,UAAA,GAAAC,OAAA;AAGA;AACA,MAAaC,cAAc;EAGvBC,YAAYC,OAAuB;IAC/B,IAAI,CAACC,cAAc,GAAG,IAAAL,UAAA,CAAAM,iBAAiB,EAACC,IAAI,CAACC,SAAS,CAACJ,OAAO,CAAC,CAAC;EACpE;EAEA,MAAMK,WAAWA,CAACC,OAA2B;IACzC,OAAO,IAAAV,UAAA,CAAAW,gBAAgB,EAACJ,IAAI,CAACC,SAAS,CAACE,OAAO,CAAC,EAAE,IAAI,CAACL,cAAc,CAAC;EACzE;EAEA;EACA,MAAMO,MAAMA,CACRC,MAAgB,EAChBC,QAAgD;IAEhD,OAAO,IAAAd,UAAA,CAAAY,MAAM,EAACC,MAAM,EAAEC,QAAQ,EAAE,IAAI,CAACT,cAAc,CAAC;EACxD;;AAjBJU,OAAA,CAAAb,cAAA,GAAAA,cAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}